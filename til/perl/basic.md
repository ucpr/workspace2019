## Perl 基本

### memo
- 標準関数や事前に定義されている括弧を省略できます。

### 標準出力
```perl
print "Hello World";
```

### コメント
`#` でコメントアウト可能

### 変数
Perlの変数には
- スカラ変数
- 配列変数
- ハッシュ変数
があります.

```perl
# スカラ変数
my $num;
# 配列変数
my @ary_var;
# ハッシュ変数
my %hash_var;
```

宣言は必要なくそのまま変数を使うことができる。しかし、その場合global変数になる。  
変数の局所化に使うキーワードとして `my` と `local` がある。

#### `my`
Perl5から実装された関数。  
`my` を使って定義された変数はレキシカルスコープ変数と呼びます。  
`my` を使って宣言することをレキシカルスコープ宣言と呼ぶ。  

```perl
my $num = 1;
```

レキシカルスコープの有効範囲
```perl
$var = 'サブルーチンの外';
print $var; #「サブルーチンの外」が出力される

&example;
sub example {
    my $var = 'サブルーチンの中';
    print $var; #「サブルーチンの中」が出力される
}

print $var; #「サブルーチンの外」が出力される
```

```perl
$var = 'サブルーチンの外';

&example;
sub example {
    my $var = 'サブルーチンの中';
    print $var; #「サブルーチンの中」が出力される
    &example2($var);
}

sub example2 {
    my($var) = @_;
    print $var; #「サブルーチンの中」が出力される
}

print $var; #「サブルーチンの外」が出力される
```

#### `local`
`local` を使って定義された変数はダイナミックスコープ変数と呼びます
`local` を使って宣言することをダイナミックスコープ宣言と呼びます

```perl
local $var = "Hello";
```

ダイナミックスコープの有効範囲
```perl
$var = 'サブルーチンの外';
print $var; #「サブルーチンの外」が出力される

&example;
sub example {
    local $var = 'サブルーチンの中';
    print $var; #「サブルーチンの中」が出力される
}

print $var; #「サブルーチンの外」が出力される
```

```perl
$var = 'サブルーチンの外';

&example;
sub example {
    local $var = 'サブルーチンの中';
    print $var; #「サブルーチンの中」が出力される
    &example2;
}

sub example2 {
    print $var; #「サブルーチンの中」が出力される
}

print $var; #「サブルーチンの外」が出力される
```
`local` で宣言されたダイナミックスコープ変数はサブルーチンが終了するまで引き継がれる。  

ダイナミックスコープ変数では、変数を別に保持しているわけではなく、グローバル変数に一時的に値を入れているだけ。  
Perl内部では変数varは同じ変数として見られていて、その変数がどこで呼び出されたかで適用する値を変えている。

</br>

よって、本当のローカル変数を使うときは `my` を使用するべきです。



